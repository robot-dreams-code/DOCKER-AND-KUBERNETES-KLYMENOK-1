Docker Compose (частина 2)
------------
### 1.1 Додавання healthcheck сервісів

Так як інфраструктура застосунку складається з двох контейнерів достатньо додати два healthcheck

1. Http запит на **/healthz** для web сервіса
2. Виклик **Ping** для **redis** сервіса

Для виклику http запиту, перед присвоєнням non-root юзера, додаємо в образ **curl**:

`RUN apt-get update && apt-get install -y curl && \`

`apt-get clean && rm -rf /var/lib/apt/lists/*`

Викликаємо `apt-get clean` і видаляємо інші пакети що завантажив `apt-get update` щоб не збільшувати розмір runtime образу.

Тестовий застосунок не є важким і запускається локально тому 
для healthcheck я встановив **3 спроби** з **інтервалом** та **таймаутом** у **5 секунд**.

### 1.2 Додавання томів

В попередній роботі я вже додав том **redis_data**, всередині тома можна знайти файл dump.rdb Таким чином лічильник відвідувань зберігає значення між перезапусками контейнера.

### 1.3 Встановлення порядку запуску

Додавши до сервісу **web** властивість **depends_on** можна явно вказати що спочатку буде запущено **redis**.
Також ми можемо додати вкладену властивість **condition**, я додав service_healthy. 
Отже спочатку буде запущено **redis** і лише у випадку успішного healthcheck після буде запущено **web**.

